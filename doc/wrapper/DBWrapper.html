<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Mon May 26 01:31:12 CEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DBWrapper</title>
<meta name="date" content="2014-05-26">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DBWrapper";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DBWrapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../wrapper/FileWrapper.html" title="class in wrapper"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?wrapper/DBWrapper.html" target="_top">Frames</a></li>
<li><a href="DBWrapper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">wrapper</div>
<h2 title="Class DBWrapper" class="title">Class DBWrapper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>wrapper.DBWrapper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">DBWrapper</span>
extends java.lang.Object
implements <a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></pre>
<div class="block">DBWrapper.java
 Singleton pattern
 Handles interactions between Java-application and MySQL
 Only has private constructors, hence final</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jon, Mads, Matti, Peter</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.sql.Connection</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#con">con</a></strong></code>
<div class="block">DBWrappers only connection object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.sql.CallableStatement</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#cs">cs</a></strong></code>
<div class="block">DBWrappers only CallableStatement</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../wrapper/DBWrapper.html" title="class in wrapper">DBWrapper</a></code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#instance">instance</a></strong></code>
<div class="block">The only instance of DBWrapper we allow to exist</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#LOCALHOSTDATABASEANDPASSWORD">LOCALHOSTDATABASEANDPASSWORD</a></strong></code>
<div class="block">Login string to use if connecting to localhost DB</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#LOCALHOSTINITIALLOGIN">LOCALHOSTINITIALLOGIN</a></strong></code>
<div class="block">Login string to use if logging in to localhost DB - connects with loginuser NOT matti</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#ONLINEDATABASEANDPASSWORD">ONLINEDATABASEANDPASSWORD</a></strong></code>
<div class="block">Login string to use on online database AFTER logging the user in</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#ONLINEINITIALLOGIN">ONLINEINITIALLOGIN</a></strong></code>
<div class="block">Login string to use if logging in to online DB - connects with loginuser NOT matti</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.sql.ResultSet</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#rs">rs</a></strong></code>
<div class="block">DBWrappers only ResultSet</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../tables/State.html" title="class in tables">State</a></code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#state">state</a></strong></code>
<div class="block">State class from tables</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#useOnlineDb">useOnlineDb</a></strong></code>
<div class="block">A boolean value used to determine whether using localhost or foreign host connection</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#DBWrapper()">DBWrapper</a></strong>()</code>
<div class="block">Private constructor because DBWrapper is singleton
Checks if instance exists and throws an exception it it does (since we only want to construct 1 DBWrapper)</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#attemptLogin(java.lang.String, java.lang.String)">attemptLogin</a></strong>(java.lang.String&nbsp;attemptedUsername,
            java.lang.String&nbsp;attemptedPassword)</code>
<div class="block">Takes input from LoginGui and tries to login as 'loginuser' in database by calling the other attemptLogin method
 loginuser only has SELECT on User, Insert on login_attempt, successful_login and execute privileges for the login-stored procedure
 Creates a user object, set as currentUser in State 
  
 A boolean value is returned</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.sql.ResultSet</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#attemptLogin(java.lang.String, java.lang.String, java.lang.String)">attemptLogin</a></strong>(java.lang.String&nbsp;call,
            java.lang.String&nbsp;username,
            java.lang.String&nbsp;password)</code>
<div class="block">Tries to login the user by calling the stored procedure attemptLogin() in DB</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#callCreateUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">callCreateUser</a></strong>(java.lang.String&nbsp;username,
              java.lang.String&nbsp;password,
              java.lang.String&nbsp;salt,
              java.lang.String&nbsp;realName,
              int&nbsp;userType)</code>
<div class="block">Calls stored procedure createUser</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#callModifyUser(int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">callModifyUser</a></strong>(int&nbsp;userId,
              java.lang.String&nbsp;username,
              java.lang.String&nbsp;password,
              java.lang.String&nbsp;salt,
              java.lang.String&nbsp;realName,
              int&nbsp;userType)</code>
<div class="block">Calls stored procedure modifyUser()</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#closeConnection()">closeConnection</a></strong>()</code>
<div class="block">Checks if con is null.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#connectToDB()">connectToDB</a></strong>()</code>
<div class="block">Connects to whichever DB user wants to connect to</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#deleteFileReference(int)">deleteFileReference</a></strong>(int&nbsp;logEntryId)</code>
<div class="block">Method for deleting a Filereference in the DB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#deleteLogEntry(entity.LogEntry)">deleteLogEntry</a></strong>(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLog)</code>
<div class="block">Method for deleting a logEntry from the DB using the storedprocedure "delteLogEntry"
 which deletes the LogEntry (Should probably also delete all rows affiliated with this logEntry)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#editFileReference(java.lang.String, int)">editFileReference</a></strong>(java.lang.String&nbsp;fileReference,
                 int&nbsp;logEntryId)</code>
<div class="block">Method for editing a given fileReference in the DB with a logEntryId as ForeignKey</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#editLogEntry(entity.LogEntry)">editLogEntry</a></strong>(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLog)</code>
<div class="block">Method for changing the contents of a given logEntry in the Database using the storedprocedure
 "editLogEntry" which calls a UPDATE on the rows where he logId is the same.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../entity/Customer.html" title="class in entity">Customer</a></code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#getCustomerForExcel(entity.Customer)">getCustomerForExcel</a></strong>(<a href="../entity/Customer.html" title="class in entity">Customer</a>&nbsp;customer)</code>
<div class="block">Search method for Customer objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#getFileReference(int)">getFileReference</a></strong>(int&nbsp;logEntryId)</code>
<div class="block">Method for return the corresponding fileReference to a given logEntryId</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../wrapper/DBWrapper.html" title="class in wrapper">DBWrapper</a></code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">return the instance of DBWrapper - creates it if it doesn't exist yet</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#getLogEntryList(int)">getLogEntryList</a></strong>(int&nbsp;customerId)</code>
<div class="block">Method to get LogEntries for a selected Customer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#getUseOnlineDb()">getUseOnlineDb</a></strong>()</code>
<div class="block">Returns useOnlineDb</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#newLogEntry(entity.LogEntry)">newLogEntry</a></strong>(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLogEntry)</code>
<div class="block">Method for saving a given logEntry to the DB using storedprocedure "newLogEntry"
 which makes a INSERT with the given variables as parameters for the new row
 returns the logEntryId for the new log if successful - 0 if not</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#saveFileReference(java.lang.String, int)">saveFileReference</a></strong>(java.lang.String&nbsp;fileReference,
                 int&nbsp;logEntryId)</code>
<div class="block">Method for saving a given fileReference to the Database with a logEntryId as ForeignKey</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../entity/Customer.html" title="class in entity">Customer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#searchCustomer(java.lang.String)">searchCustomer</a></strong>(java.lang.String&nbsp;search)</code>
<div class="block">Takes in a search string, and using the StoredProcedure finds all customers with Name, customerId or Cpr
 That match or partially match this search string.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#useLocalhostDb()">useLocalhostDb</a></strong>()</code>
<div class="block">sets useOnlineDb = false</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#useOnlineDb()">useOnlineDb</a></strong>()</code>
<div class="block">sets useOnlineDb = true</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../wrapper/DBWrapper.html#whichDB()">whichDB</a></strong>()</code>
<div class="block">Returns the login-string to the database being used</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="con">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>con</h4>
<pre>private static&nbsp;java.sql.Connection con</pre>
<div class="block">DBWrappers only connection object</div>
</li>
</ul>
<a name="cs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cs</h4>
<pre>private static&nbsp;java.sql.CallableStatement cs</pre>
<div class="block">DBWrappers only CallableStatement</div>
</li>
</ul>
<a name="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>private static&nbsp;<a href="../wrapper/DBWrapper.html" title="class in wrapper">DBWrapper</a> instance</pre>
<div class="block">The only instance of DBWrapper we allow to exist</div>
</li>
</ul>
<a name="LOCALHOSTDATABASEANDPASSWORD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCALHOSTDATABASEANDPASSWORD</h4>
<pre>private static final&nbsp;java.lang.String LOCALHOSTDATABASEANDPASSWORD</pre>
<div class="block">Login string to use if connecting to localhost DB</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#wrapper.DBWrapper.LOCALHOSTDATABASEANDPASSWORD">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="LOCALHOSTINITIALLOGIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCALHOSTINITIALLOGIN</h4>
<pre>private static final&nbsp;java.lang.String LOCALHOSTINITIALLOGIN</pre>
<div class="block">Login string to use if logging in to localhost DB - connects with loginuser NOT matti</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#wrapper.DBWrapper.LOCALHOSTINITIALLOGIN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ONLINEDATABASEANDPASSWORD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ONLINEDATABASEANDPASSWORD</h4>
<pre>private static final&nbsp;java.lang.String ONLINEDATABASEANDPASSWORD</pre>
<div class="block">Login string to use on online database AFTER logging the user in</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#wrapper.DBWrapper.ONLINEDATABASEANDPASSWORD">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ONLINEINITIALLOGIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ONLINEINITIALLOGIN</h4>
<pre>private static final&nbsp;java.lang.String ONLINEINITIALLOGIN</pre>
<div class="block">Login string to use if logging in to online DB - connects with loginuser NOT matti</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#wrapper.DBWrapper.ONLINEINITIALLOGIN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="rs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rs</h4>
<pre>private static&nbsp;java.sql.ResultSet rs</pre>
<div class="block">DBWrappers only ResultSet</div>
</li>
</ul>
<a name="state">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>private&nbsp;<a href="../tables/State.html" title="class in tables">State</a> state</pre>
<div class="block">State class from tables</div>
</li>
</ul>
<a name="useOnlineDb">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>useOnlineDb</h4>
<pre>private static&nbsp;boolean useOnlineDb</pre>
<div class="block">A boolean value used to determine whether using localhost or foreign host connection</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DBWrapper()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DBWrapper</h4>
<pre>private&nbsp;DBWrapper()</pre>
<div class="block">Private constructor because DBWrapper is singleton
Checks if instance exists and throws an exception it it does (since we only want to construct 1 DBWrapper)</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="attemptLogin(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attemptLogin</h4>
<pre>public&nbsp;boolean&nbsp;attemptLogin(java.lang.String&nbsp;attemptedUsername,
                   java.lang.String&nbsp;attemptedPassword)</pre>
<div class="block">Takes input from LoginGui and tries to login as 'loginuser' in database by calling the other attemptLogin method
 loginuser only has SELECT on User, Insert on login_attempt, successful_login and execute privileges for the login-stored procedure
 Creates a user object, set as currentUser in State 
  
 A boolean value is returned</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#attemptLogin(java.lang.String, java.lang.String)">attemptLogin</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>attemptedUsername</code> - the username entered</dd><dd><code>attemptedPassword</code> - the password entered</dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean did the user log in?</dd></dl>
</li>
</ul>
<a name="attemptLogin(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attemptLogin</h4>
<pre>private&nbsp;java.sql.ResultSet&nbsp;attemptLogin(java.lang.String&nbsp;call,
                              java.lang.String&nbsp;username,
                              java.lang.String&nbsp;password)
                                 throws java.sql.SQLException</pre>
<div class="block">Tries to login the user by calling the stored procedure attemptLogin() in DB</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>call</code> - The string containing MySQL code</dd><dd><code>username</code> - The username to attempt logging in with</dd><dd><code>password</code> - The password to attempt logging in with</dd>
<dt><span class="strong">Returns:</span></dt><dd>ResultSet containing data needed to create a User object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="callCreateUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callCreateUser</h4>
<pre>public&nbsp;void&nbsp;callCreateUser(java.lang.String&nbsp;username,
                  java.lang.String&nbsp;password,
                  java.lang.String&nbsp;salt,
                  java.lang.String&nbsp;realName,
                  int&nbsp;userType)</pre>
<div class="block">Calls stored procedure createUser</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#callCreateUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">callCreateUser</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - The wanted username</dd><dd><code>password</code> - The wanted password</dd><dd><code>salt</code> - The salt obtained from UserControl - 24 bits</dd><dd><code>realName</code> - The real name of the user</dd><dd><code>userType</code> - The usertype of the user</dd></dl>
</li>
</ul>
<a name="callModifyUser(int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callModifyUser</h4>
<pre>public&nbsp;void&nbsp;callModifyUser(int&nbsp;userId,
                  java.lang.String&nbsp;username,
                  java.lang.String&nbsp;password,
                  java.lang.String&nbsp;salt,
                  java.lang.String&nbsp;realName,
                  int&nbsp;userType)</pre>
<div class="block">Calls stored procedure modifyUser()</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#callModifyUser(int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)">callModifyUser</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>userId</code> - The PK_UserId of the user to modify</dd><dd><code>username</code> - the new username</dd><dd><code>password</code> - the new password</dd><dd><code>salt</code> - The new salt (from UserControl) - 24 bits</dd><dd><code>realName</code> - The new real name of the user</dd><dd><code>userType</code> - The new usertype of the user</dd></dl>
</li>
</ul>
<a name="closeConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnection</h4>
<pre>private&nbsp;void&nbsp;closeConnection()</pre>
<div class="block">Checks if con is null. If not, attempts to close the connection
 Is called by connectToDb to ensure the connection is closed before connecting.</div>
</li>
</ul>
<a name="connectToDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectToDB</h4>
<pre>private&nbsp;void&nbsp;connectToDB()</pre>
<div class="block">Connects to whichever DB user wants to connect to</div>
</li>
</ul>
<a name="deleteFileReference(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFileReference</h4>
<pre>public&nbsp;void&nbsp;deleteFileReference(int&nbsp;logEntryId)</pre>
<div class="block">Method for deleting a Filereference in the DB. Does not interfere with the logEntry itself.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#deleteFileReference(int)">deleteFileReference</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>logEntryId</code> - Id of the logentry to delete filereference for</dd></dl>
</li>
</ul>
<a name="deleteLogEntry(entity.LogEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteLogEntry</h4>
<pre>public&nbsp;void&nbsp;deleteLogEntry(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLog)</pre>
<div class="block">Method for deleting a logEntry from the DB using the storedprocedure "delteLogEntry"
 which deletes the LogEntry (Should probably also delete all rows affiliated with this logEntry)</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#deleteLogEntry(entity.LogEntry)">deleteLogEntry</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inputLog</code> - The logentry to be deleted</dd></dl>
</li>
</ul>
<a name="editFileReference(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>editFileReference</h4>
<pre>public&nbsp;void&nbsp;editFileReference(java.lang.String&nbsp;fileReference,
                     int&nbsp;logEntryId)</pre>
<div class="block">Method for editing a given fileReference in the DB with a logEntryId as ForeignKey</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileReference</code> - The full path to the file</dd><dd><code>logEntryId</code> - The id of the logentry to edit</dd></dl>
</li>
</ul>
<a name="editLogEntry(entity.LogEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>editLogEntry</h4>
<pre>public&nbsp;void&nbsp;editLogEntry(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLog)</pre>
<div class="block">Method for changing the contents of a given logEntry in the Database using the storedprocedure
 "editLogEntry" which calls a UPDATE on the rows where he logId is the same.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#editLogEntry(entity.LogEntry)">editLogEntry</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inputLog</code> - The edited logentry to be saved in the database</dd></dl>
</li>
</ul>
<a name="getCustomerForExcel(entity.Customer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustomerForExcel</h4>
<pre>public&nbsp;<a href="../entity/Customer.html" title="class in entity">Customer</a>&nbsp;getCustomerForExcel(<a href="../entity/Customer.html" title="class in entity">Customer</a>&nbsp;customer)</pre>
<div class="block">Search method for Customer objects. 
 Calls a Stored Procedure and puts result in an ArrayList of Customer objects to be returned</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#getCustomerForExcel(entity.Customer)">getCustomerForExcel</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>customer</code> - Takes in Customer and not customerId to underline what kind of info the method is working with</dd>
<dt><span class="strong">Returns:</span></dt><dd>Customer</dd></dl>
</li>
</ul>
<a name="getFileReference(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileReference</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFileReference(int&nbsp;logEntryId)</pre>
<div class="block">Method for return the corresponding fileReference to a given logEntryId</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#getFileReference(int)">getFileReference</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>logEntryId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>String The path to the file</dd></dl>
</li>
</ul>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../wrapper/DBWrapper.html" title="class in wrapper">DBWrapper</a>&nbsp;getInstance()</pre>
<div class="block">return the instance of DBWrapper - creates it if it doesn't exist yet</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>DBWrapper instance</dd></dl>
</li>
</ul>
<a name="getLogEntryList(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogEntryList</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&gt;&nbsp;getLogEntryList(int&nbsp;customerId)</pre>
<div class="block">Method to get LogEntries for a selected Customer</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#getLogEntryList(int)">getLogEntryList</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>customerId</code> - Id for the customer who has the logentries</dd>
<dt><span class="strong">Returns:</span></dt><dd>ArrayList<LogEntry></dd></dl>
</li>
</ul>
<a name="getUseOnlineDb()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUseOnlineDb</h4>
<pre>public&nbsp;boolean&nbsp;getUseOnlineDb()</pre>
<div class="block">Returns useOnlineDb</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="newLogEntry(entity.LogEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newLogEntry</h4>
<pre>public&nbsp;int&nbsp;newLogEntry(<a href="../entity/LogEntry.html" title="class in entity">LogEntry</a>&nbsp;inputLogEntry)</pre>
<div class="block">Method for saving a given logEntry to the DB using storedprocedure "newLogEntry"
 which makes a INSERT with the given variables as parameters for the new row
 returns the logEntryId for the new log if successful - 0 if not</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#newLogEntry(entity.LogEntry)">newLogEntry</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>inputLogEntry</code> - The logentry to save in database</dd>
<dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="saveFileReference(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveFileReference</h4>
<pre>public&nbsp;void&nbsp;saveFileReference(java.lang.String&nbsp;fileReference,
                     int&nbsp;logEntryId)</pre>
<div class="block">Method for saving a given fileReference to the Database with a logEntryId as ForeignKey</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#saveFileReference(java.lang.String, int)">saveFileReference</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>fileReference</code> - The full path to the file</dd><dd><code>logEntryId</code> - The id of the logentry</dd></dl>
</li>
</ul>
<a name="searchCustomer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchCustomer</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../entity/Customer.html" title="class in entity">Customer</a>&gt;&nbsp;searchCustomer(java.lang.String&nbsp;search)</pre>
<div class="block">Takes in a search string, and using the StoredProcedure finds all customers with Name, customerId or Cpr
 That match or partially match this search string. Is only called open initial search, the rest of the sorting
 is handled in utilControl.search()</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../wrapper/IDBWrapper.html#searchCustomer(java.lang.String)">searchCustomer</a></code>&nbsp;in interface&nbsp;<code><a href="../wrapper/IDBWrapper.html" title="interface in wrapper">IDBWrapper</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>search</code> - String containing search parameters</dd>
<dt><span class="strong">Returns:</span></dt><dd>ArrayList<Customer></dd></dl>
</li>
</ul>
<a name="useLocalhostDb()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useLocalhostDb</h4>
<pre>public&nbsp;void&nbsp;useLocalhostDb()</pre>
<div class="block">sets useOnlineDb = false</div>
</li>
</ul>
<a name="useOnlineDb()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useOnlineDb</h4>
<pre>public&nbsp;void&nbsp;useOnlineDb()</pre>
<div class="block">sets useOnlineDb = true</div>
</li>
</ul>
<a name="whichDB()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>whichDB</h4>
<pre>private&nbsp;java.lang.String&nbsp;whichDB()</pre>
<div class="block">Returns the login-string to the database being used</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DBWrapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../wrapper/FileWrapper.html" title="class in wrapper"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?wrapper/DBWrapper.html" target="_top">Frames</a></li>
<li><a href="DBWrapper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
